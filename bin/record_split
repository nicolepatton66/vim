#!/usr/bin/env perl

# pretty print an array of ActiveRecord results

my $full_string;
while(<>) {
    chomp;
    s/^#<//;
    s/>$//;
    $full_string = $_;
}

my @sections = split />, #</, $full_string;
foreach my $section (@sections) {
    $section =~ s/^([a-zA-Z:]+) //; # pull out the model name
    print "$1\n";

    foreach my $line (sort split /, /, $section) {
        print "  $line\n";
    }
    print "\n";
}
